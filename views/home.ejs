<link rel="stylesheet" href="/css/home.css">


<section id="posts-container">
    <h2>Posts</h2>

    <%/*%>
        this is the way to do multiline comments in ejs, Ok

        Now using below check we are restricting the form to be visible in the home page
        when the user is not signed in, Got it 
        
    <%*/%>
    <% if(locals.user){%>
        <form action="/posts/create" id="new-post-form" method="post">
            <textarea name="content" cols="30" rows="3" placeholder="Type here to post..." required></textarea>
            <input type="submit" value="Post">
        </form>
    <%}%>


    <div id="posts-list-container">
        <ul>
            <% for(post of posts){%>
                <%-include("_post")%>
                <hr>
            <%}%>
            
        </ul>

    </div>

</section>

<section id="user-friends">
    <h2>
        Friends
    </h2>
    <% for(user of all_users){%>
        <p>
            <a href="/users/profile/<%=user.id%>">
                <%=user.name%>
            </a>
        </p>
        
    <%}%>

</section>


<script src="/js/home_posts.js"></script>